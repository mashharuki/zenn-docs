---
title: "Aptos上にNFTマーケットプレイスを作ってみよう！！"
emoji: "📖"
type: "tech" 
topics: ["Move", "Aptos", "Blockchain", "Web3", "NFT"]
published: false
---

# はじめに

皆さん、こんにちは！

今回はパブリックブロックチェーンの一つであるAptosをテーマにした記事になります！

2024年現在 ハッカソンプラットフォームAkindoとAptosのチームがタッグ組んでWaveHackというグラントプログラムを実施中です！

グラントには2つの部門があるのですが、今回はそのうちの一つである

**Create Aptos Move Contents** 

部門への応募も兼ねた記事になっています！！

対象となっているAptosのドキュメントを翻訳するだけでグラントを取得できる可能性があり、非エンジニアでもグラントを獲得できる非常に貴重な機会となっていますので皆さんもぜひ挑戦してみてくださいね！！

詳細は下記サイトにて紹介されています！

https://app.akindo.io/wave-hacks/Nmqgo639ai9ZQMB1


https://app.akindo.io/wave-hacks/Z47L4rwQmI774vRpr


https://lu.ma/aptos-wavehack

# 今回翻訳に挑戦するドキュメント

Aptosチームが出しているラーニングサイトの以下の記事の翻訳に挑戦します！！

https://learn.aptoslabs.com/example/nft-marketplace

Aptos上でたまごっちライクなキャラクターを売買できるNFTマーケットプレイスが構築できるようです！！

https://marketplace-example-rho.vercel.app/

![](/images/a9c7f813c75e8b/1.png)

前回の記事が見てみたいという方はぜひ下記もチェックしてみてください！！

https://zenn.dev/mashharuki/articles/f6deb29bb67cd3

今回お手本となるGitHubのリポジトリは下記です！

https://github.com/aptos-labs/marketplace-example

私は上記のリポジトリをベースにコメントなどを追記しています！！

https://github.com/mashharuki/marketplace-example

この学習コンテンツでは次のことが学べます！！

:::message
1. Move言語による応用的なデータ構造の実装方法

    NFTマーケットプレイスの機能を実現させるためには複雑なデータ構造を管理する必要がありますが、 Move言語でそれを実現させる方法を学べます。

2. entryメソッドの実装方法

    NFTの購入や上場など、マーケットプレイスに最低限必要な機能をMove言語で実装する方法を学べます。

3. Move言語のテストコードの実装方法

    Move言語で開発したスマートコントラクトのテストコードの実装方法を学べます。
:::


この学習コンテンツで開発するNFTマーケットプレイスの概要

:::message
前回の記事までで開発していたAptogochiNFT用のNFTマーケットプレイスを開発します。

より使いやすいマーケットプレイスを開発するとなるとオークション機能があったりした方が良いですが、今回は基本的な機能の実装がメインとなります。

- NFTを上場させる機能  
  自分が保有するNFTを売りに出す機能
- NFTを購入する機能  
  売りに出したユーザーが設定した金額でNFTを購入できるようにする機能
- NFTをミントする機能  
  デモ用にNFTミントする機能
:::

# Move言語によるデータストレージの考え方

データを永続的に保管する方法として以下の3つの方法があります。

- アカウント内のリソース  

  アカウント内のリソースでは、アカウントやアドレスに直接結びついたMoveのストレージ機能を利用できます。アカウントタイプごとに一意に保存され、保存にはmove_to、取得にはborrow_globalといった特定の関数でアクセスできます。  
  
  構造体は、アカウントにステートをアタッチする簡単な方法を提供しますが、ガスコストと単一リソースのサイズ制約により、ストレージに制限があります。これらの制限を回避するために、構造体には他の構造体やベクトルを含めることができますが、その代わり複雑になります。

- テーブル  

  Moveのテーブルでは、柔軟なキーとバリューを管理できます。同じ構造体タイプの複数のインスタンスを衝突リスクなしに使用できるため、リソースとは異なります。テーブルは、大規模なデータセットへの効率的で決定論的なアクセスを必要とするアプリケーションで特に役立ちます。  
  
  Aptosでは、スケーラブルなデータ処理を実現するBigVectorやSmartVector、凝縮されたストレージを実現するSmartTableなどの構造体でテーブルを強化し、グローバル・ストレージのスペースとアクセス効率を最適化しています。

- オブジェクト  

  オブジェクトは、データ・ストレージに対する微妙なアプローチを提供し、リソースをアカウントや他のオブジェクトによって所有・管理できるようにすることで、オンチェーン・データの構成能力を高めます。
  
  このモデルは、1つのアカウントや契約の下で複数のリソースインスタンスを管理することを容易にし、オブジェクトの所有権と転送性を活用することで、さまざまなドメインにわたる複雑なアプリケーションの開発を合理化します。

